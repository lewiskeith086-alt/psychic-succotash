<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Skating Girl</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="font-sans text-gray-800">

    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center justify-center text-center px-6">
      <!-- Background Image -->
      <div class="absolute inset-0">
        <img src="bg.jpg" alt="Skating Girl" class="w-full h-full object-cover" />
        <div class="absolute inset-0 bg-black bg-opacity-50"></div>
      </div>

      <!-- Text Content with Semi-Transparent Pink Box -->
      <div class="relative bg-pink-600 bg-opacity-80 p-8 rounded-2xl max-w-2xl mx-auto text-white">
        <h1 class="text-4xl sm:text-6xl font-extrabold mb-4 drop-shadow-lg">
          The Skating Girl ðŸ›¼
        </h1>
        <p class="text-lg sm:text-xl mb-6">
          Learn how to skate with confidence! Fun, professional lessons for all ages â€” book your session today.
        </p>
        <a href="#booking" class="bg-white text-pink-600 px-6 py-3 rounded-xl font-semibold hover:bg-gray-100 transition">
          Book Now
        </a>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 bg-pink-50 text-center px-6">
      <h2 class="text-3xl font-bold text-pink-600 mb-4">About The Skating Girl</h2>
      <p class="max-w-2xl mx-auto text-lg">
        With years of skating experience, The Skating Girl offers safe, exciting, and professional roller-skating lessons. 
        Whether you're a beginner or looking to improve your skills, you'll get fun sessions that build confidence, balance, and style.
      </p>
    </section>

    <!-- Booking Section -->
    <section id="booking" class="py-16 bg-white px-6">
      <h2 class="text-3xl font-bold text-center text-pink-600 mb-8">Book a Session</h2>
      <form id="bookingForm" class="max-w-xl mx-auto bg-pink-50 p-8 rounded-2xl shadow-lg space-y-4">
        <input type="text" name="name" placeholder="Your Name" required
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-pink-400" />
        <input type="email" name="email" placeholder="Your Email" required
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-pink-400" />
        <input type="tel" name="phone" placeholder="Your Phone Number (e.g. 233XXXXXXXXX)" required
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-pink-400" />

        <!-- Session Type -->
        <select name="session" required
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-pink-400">
          <option value="">Select a Session</option>
          <option>1 session (including skates) - GHS 350</option>
          <option>Monthly sessions 4 - GHS 700</option>
          <option>Monthly sessions 4 (Including skates) - GHS 1,200</option>
          <option>1 Virtual session - GHS 150</option>
        </select>

        <!-- Time Slots -->
        <select name="time_slot" required
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-pink-400">
          <option value="">Select a Time Slot</option>
          <optgroup label="Saturday">
            <option>12-13pm</option>
            <option>13-14pm</option>
            <option>14-15pm</option>
            <option>15-16pm</option>
            <option>16-17pm</option>
            <option>17-18pm</option>
            <option>18-19pm</option>
          </optgroup>
          <optgroup label="Sunday">
            <option>12-13pm</option>
            <option>13-14pm</option>
            <option>14-15pm</option>
            <option>15-16pm</option>
            <option>16-17pm</option>
            <option>17-18pm</option>
            <option>18-19pm</option>
          </optgroup>
          <optgroup label="Wednesday">
            <option>18-19pm</option>
            <option>19-20pm</option>
          </optgroup>
          <optgroup label="Monday">
            <option>18-19pm</option>
            <option>19-20pm</option>
          </optgroup>
        </select>

        <button type="submit"
          class="w-full bg-pink-600 text-white py-3 rounded-lg font-semibold hover:bg-pink-700 transition">
          Submit Booking
        </button>
      </form>

      <!-- Thank You Popup -->
      <div id="thankYouMessage" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
        <div class="bg-white p-8 rounded-2xl shadow-2xl text-center max-w-sm transform transition-all scale-95 opacity-0"
             id="thankYouBox">
          <h3 class="text-2xl font-bold text-pink-600 mb-3">ðŸŽ‰ Thank You for Booking!</h3>
          <p class="text-gray-700 mb-4">Your booking has been received. Youâ€™ll get a WhatsApp confirmation shortly.</p>
          <button onclick="closePopup()"
            class="mt-2 px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition">
            Close
          </button>
        </div>
      </div>
    </section>

    <!-- Floating Book Now Button -->
    <a href="#booking" 
       class="fixed bottom-5 right-5 bg-pink-600 text-white px-5 py-3 rounded-full shadow-lg hover:bg-pink-700 transition md:hidden z-50">
      Book Now
    </a>

    <!-- Footer -->
    <footer class="bg-pink-600 text-white py-6 text-center">
      <p>&copy; <span id="year"></span> The Skating Girl. All rights reserved.</p>
    </footer>

    <script>
      document.getElementById("year").textContent = new Date().getFullYear();

      const bookingForm = document.getElementById("bookingForm");
      const thankYouOverlay = document.getElementById("thankYouMessage");
      const thankYouBox = document.getElementById("thankYouBox");

      bookingForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        const formData = new FormData(bookingForm);
        const data = Object.fromEntries(formData.entries());

        const res = await fetch("/.netlify/functions/booking", {
          method: "POST",
          body: JSON.stringify(data),
        });

        if (res.ok) {
          bookingForm.reset();
          thankYouOverlay.classList.remove("hidden");
          setTimeout(() => {
            thankYouBox.classList.remove("scale-95", "opacity-0");
            thankYouBox.classList.add("scale-100", "opacity-100");
          }, 50);
        } else {
          alert("Something went wrong. Please try again.");
        }
      });

      function closePopup() {
        thankYouBox.classList.remove("scale-100", "opacity-100");
        thankYouBox.classList.add("scale-95", "opacity-0");
        setTimeout(() => {
          thankYouOverlay.classList.add("hidden");
        }, 200);
      }
    </script>
  </body>
</html>
